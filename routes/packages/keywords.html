<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ajv-keywords | Ajv</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/ajv-docs-zh-cn/images/favicon.ico">
    <meta name="description" content="Ajv: Another JSON Schema Validator。Node.js和浏览器中最快速的JSON Schema验证器。">
    <link rel="preload" href="/ajv-docs-zh-cn/assets/css/0.styles.5a0f9214.css" as="style"><link rel="preload" href="/ajv-docs-zh-cn/assets/js/app.4497bbb7.js" as="script"><link rel="preload" href="/ajv-docs-zh-cn/assets/js/2.c7b6054d.js" as="script"><link rel="preload" href="/ajv-docs-zh-cn/assets/js/23.5236c848.js" as="script"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/10.822ac3de.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/11.d15e32b7.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/12.48708fcb.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/13.032c4277.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/14.f0d24676.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/15.85afffdf.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/16.6a9932e7.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/17.26a096c7.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/18.e983eb27.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/19.a0f056a6.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/20.cccf14fa.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/21.48f7a45d.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/22.6db27886.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/24.710052ba.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/25.28704c02.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/3.cf33746e.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/4.7351e2e0.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/5.9dba54a7.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/6.3569bd4e.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/7.8aa9081b.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/8.d355c7d2.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/9.1857401b.js">
    <link rel="stylesheet" href="/ajv-docs-zh-cn/assets/css/0.styles.5a0f9214.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/ajv-docs-zh-cn/" class="home-link router-link-active"><img src="/ajv-docs-zh-cn/images/logo.png" alt="Ajv" class="logo"> <span class="site-name can-hide">Ajv</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="http://www.febeacon.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  大笑文档
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/ajv-docs-zh-cn/" class="nav-link">
  文档首页
</a></div><div class="nav-item"><a href="/ajv-docs-zh-cn/routes/api/api.html" class="nav-link">
  API和配置项
</a></div><div class="nav-item"><a href="/ajv-docs-zh-cn/routes/packages/" class="nav-link router-link-active">
  相关扩展包
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="http://www.febeacon.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  大笑文档
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/ajv-docs-zh-cn/" class="nav-link">
  文档首页
</a></div><div class="nav-item"><a href="/ajv-docs-zh-cn/routes/api/api.html" class="nav-link">
  API和配置项
</a></div><div class="nav-item"><a href="/ajv-docs-zh-cn/routes/packages/" class="nav-link router-link-active">
  相关扩展包
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/ajv-docs-zh-cn/routes/packages/" class="sidebar-link">总览</a></li><li><a href="/ajv-docs-zh-cn/routes/packages/async.html" class="sidebar-link">ajv-async</a></li><li><a href="/ajv-docs-zh-cn/routes/packages/bsontype.html" class="sidebar-link">ajv-bsontype</a></li><li><a href="/ajv-docs-zh-cn/routes/packages/cli.html" class="sidebar-link">ajv-cli</a></li><li><a href="/ajv-docs-zh-cn/routes/packages/errors.html" class="sidebar-link">ajv-errors</a></li><li><a href="/ajv-docs-zh-cn/routes/packages/i18n.html" class="sidebar-link">ajv-i18n</a></li><li><a href="/ajv-docs-zh-cn/routes/packages/istanbul.html" class="sidebar-link">ajv-istanbul</a></li><li><a href="/ajv-docs-zh-cn/routes/packages/keywords.html" class="active sidebar-link">ajv-keywords</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ajv-docs-zh-cn/routes/packages/keywords.html#安装" class="sidebar-link">安装</a></li><li class="sidebar-sub-header"><a href="/ajv-docs-zh-cn/routes/packages/keywords.html#使用" class="sidebar-link">使用</a></li><li class="sidebar-sub-header"><a href="/ajv-docs-zh-cn/routes/packages/keywords.html#关键字" class="sidebar-link">关键字</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ajv-docs-zh-cn/routes/packages/keywords.html#类型" class="sidebar-link">类型</a></li><li class="sidebar-sub-header"><a href="/ajv-docs-zh-cn/routes/packages/keywords.html#typeof" class="sidebar-link">typeof</a></li><li class="sidebar-sub-header"><a href="/ajv-docs-zh-cn/routes/packages/keywords.html#instanceof" class="sidebar-link">instanceof</a></li><li class="sidebar-sub-header"><a href="/ajv-docs-zh-cn/routes/packages/keywords.html#数字关键字" class="sidebar-link">数字关键字</a></li><li class="sidebar-sub-header"><a href="/ajv-docs-zh-cn/routes/packages/keywords.html#range和exclusiverange" class="sidebar-link">range和exclusiveRange</a></li><li class="sidebar-sub-header"><a href="/ajv-docs-zh-cn/routes/packages/keywords.html#字符串关键字" class="sidebar-link">字符串关键字</a></li><li class="sidebar-sub-header"><a href="/ajv-docs-zh-cn/routes/packages/keywords.html#regexp" class="sidebar-link">regexp</a></li><li class="sidebar-sub-header"><a href="/ajv-docs-zh-cn/routes/packages/keywords.html#formatmaximum-formatminimum和formatexclusivemaximum-formatexclusiveminimum" class="sidebar-link">formatMaximum / formatMinimum和formatExclusiveMaximum / formatExclusiveMinimum</a></li><li class="sidebar-sub-header"><a href="/ajv-docs-zh-cn/routes/packages/keywords.html#transform" class="sidebar-link">transform</a></li><li class="sidebar-sub-header"><a href="/ajv-docs-zh-cn/routes/packages/keywords.html#数组关键字" class="sidebar-link">数组关键字</a></li><li class="sidebar-sub-header"><a href="/ajv-docs-zh-cn/routes/packages/keywords.html#uniqueitemproperties" class="sidebar-link">uniqueItemProperties</a></li><li class="sidebar-sub-header"><a href="/ajv-docs-zh-cn/routes/packages/keywords.html#对象关键字" class="sidebar-link">对象关键字</a></li><li class="sidebar-sub-header"><a href="/ajv-docs-zh-cn/routes/packages/keywords.html#anyrequired" class="sidebar-link">anyRequired</a></li><li class="sidebar-sub-header"><a href="/ajv-docs-zh-cn/routes/packages/keywords.html#onerequired" class="sidebar-link">oneRequired</a></li><li class="sidebar-sub-header"><a href="/ajv-docs-zh-cn/routes/packages/keywords.html#patternrequired" class="sidebar-link">patternRequired</a></li><li class="sidebar-sub-header"><a href="/ajv-docs-zh-cn/routes/packages/keywords.html#prohibited" class="sidebar-link">prohibited</a></li><li class="sidebar-sub-header"><a href="/ajv-docs-zh-cn/routes/packages/keywords.html#deepproperties" class="sidebar-link">deepProperties</a></li><li class="sidebar-sub-header"><a href="/ajv-docs-zh-cn/routes/packages/keywords.html#deeprequired" class="sidebar-link">deepRequired</a></li><li class="sidebar-sub-header"><a href="/ajv-docs-zh-cn/routes/packages/keywords.html#复合关键字" class="sidebar-link">复合关键字</a></li><li class="sidebar-sub-header"><a href="/ajv-docs-zh-cn/routes/packages/keywords.html#switch-已废弃，不翻了-链接在这" class="sidebar-link">switch (已废弃，不翻了, 链接在这</a></li><li class="sidebar-sub-header"><a href="/ajv-docs-zh-cn/routes/packages/keywords.html#select-selectcases-selectdefault" class="sidebar-link">select/selectCases/selectDefault</a></li><li class="sidebar-sub-header"><a href="/ajv-docs-zh-cn/routes/packages/keywords.html#所有类型的关键字" class="sidebar-link">所有类型的关键字</a></li><li class="sidebar-sub-header"><a href="/ajv-docs-zh-cn/routes/packages/keywords.html#dynamicdefault" class="sidebar-link">dynamicDefault</a></li></ul></li></ul></li><li><a href="/ajv-docs-zh-cn/routes/packages/merge_patch.html" class="sidebar-link">ajv-merge-patch</a></li><li><a href="/ajv-docs-zh-cn/routes/packages/pack.html" class="sidebar-link">ajv-pack</a></li><li><a href="/ajv-docs-zh-cn/routes/packages/formats-draft2019.html" class="sidebar-link">ajv-formats-draft2019</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="ajv-keywords">ajv-keywords</h1> <p><a href="https://github.com/ajv-validator/ajv-keywords" target="_blank" rel="noopener noreferrer">英文原地址<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>用于 Ajv 验证的自定义 JSON Schema 关键字。</p> <h2 id="安装">安装</h2> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> ajv-keywords
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="使用">使用</h2> <p>添加所有可用的关键字</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> Ajv <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'ajv'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> ajv <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Ajv</span><span class="token punctuation">;</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'ajv-keywords'</span><span class="token punctuation">)</span><span class="token punctuation">(</span>ajv<span class="token punctuation">)</span><span class="token punctuation">;</span>

ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token keyword">instanceof</span><span class="token punctuation">:</span> <span class="token string">'RegExp'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token regex">/.*/</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token keyword">instanceof</span><span class="token punctuation">:</span> <span class="token string">'RegExp'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'.*'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>添加单个关键字：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'ajv-keywords'</span><span class="token punctuation">)</span><span class="token punctuation">(</span>ajv<span class="token punctuation">,</span> <span class="token string">'instanceof'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>添加多个关键字：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'ajv-keywords'</span><span class="token punctuation">)</span><span class="token punctuation">(</span>ajv<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'typeof'</span><span class="token punctuation">,</span> <span class="token string">'instanceof'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在浏览器中添加单个关键字(以避免添加未使用的代码)：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'ajv-keywords/keywords/instanceof'</span><span class="token punctuation">)</span><span class="token punctuation">(</span>ajv<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="关键字">关键字</h2> <h3 id="类型">类型</h3> <h3 id="typeof"><code>typeof</code></h3> <p>基于 JavaScript 的<code>typeof</code>语句。</p> <p>该关键字的值应该是字符串(<code>&quot;undefined&quot;</code>、<code>&quot;string&quot;</code>、<code>&quot;number&quot;</code>、<code>&quot;object&quot;</code>、<code>&quot;function&quot;</code>、<code>&quot;boolean&quot;</code>或<code>&quot;symbol&quot;</code>)或字符串数组。</p> <p>为了通过验证，<code>typeof</code>的结果应该等于上面字符串(或数组中字符串的其中之一)。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token keyword">typeof</span><span class="token punctuation">:</span> <span class="token string">'undefined'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token keyword">typeof</span><span class="token punctuation">:</span> <span class="token string">'undefined'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token keyword">typeof</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'undefined'</span><span class="token punctuation">,</span> <span class="token string">'object'</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="instanceof"><code>instanceof</code></h3> <p>基于 JavaScript 的<code>instanceof</code>语句。</p> <p>该关键字的值应该是字符串(<code>&quot;Object&quot;</code>、<code>&quot;Array&quot;</code>、<code>&quot;Function&quot;</code>、<code>&quot;Number&quot;</code>、<code>&quot;String&quot;</code>、<code>&quot;Date&quot;</code>、<code>&quot;Promise&quot;</code>、<code>&quot;Buffer&quot;</code>或<code>&quot;RegExp&quot;</code>)或字符串数组。</p> <p>为了通过验证，<code>data instanceof ...</code>的结果应该为<code>true</code>：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token keyword">instanceof</span><span class="token punctuation">:</span> <span class="token string">'Array'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token keyword">instanceof</span><span class="token punctuation">:</span> <span class="token string">'Array'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token keyword">instanceof</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'Array'</span><span class="token punctuation">,</span> <span class="token string">'Function'</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>您可以添加自己的构造函数来识别这个关键字：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">var</span> instanceofDefinition <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'ajv-keywords'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'instanceof'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>definition<span class="token punctuation">;</span>
<span class="token comment">// or require('ajv-keywords/keywords/instanceof').definition;</span>
instanceofDefinition<span class="token punctuation">.</span><span class="token constant">CONSTRUCTORS</span><span class="token punctuation">.</span>MyClass <span class="token operator">=</span> MyClass<span class="token punctuation">;</span>

ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token keyword">instanceof</span><span class="token punctuation">:</span> <span class="token string">'MyClass'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">MyClass</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="数字关键字">数字关键字</h3> <h3 id="range和exclusiverange"><code>range</code>和<code>exclusiveRange</code></h3> <p>用于组合最小和最大关键字的语法糖，当然如果范围内没有数字会导致表以失败。</p> <p>该关键字的值<strong>必须是包含两个数字的数组</strong>，且第二个必须大于等于第一个。</p> <p>验证的值应该大于等于数组中的第一个值，小于等于第二个值。如果<code>exclusiveRange</code>关键字出现在同一个 schema 中且值为<code>true</code>，那么待验证的值就<strong>不可等于</strong>范围边界了。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span> range<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>schema<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>schema<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>schema<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>schema<span class="token punctuation">,</span> <span class="token number">0.99</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>schema<span class="token punctuation">,</span> <span class="token number">3.01</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>

<span class="token keyword">var</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span> range<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> exclusiveRange<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>schema<span class="token punctuation">,</span> <span class="token number">1.01</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>schema<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>schema<span class="token punctuation">,</span> <span class="token number">2.99</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>schema<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>schema<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="字符串关键字">字符串关键字</h3> <h3 id="regexp"><code>regexp</code></h3> <p>该关键字允许在 schema 中使用带 flag 的正则表达式(标准的<code>pattern</code>关键字不支持正则的 flag)</p> <p>该关键字<strong>仅接受字符串</strong>。如果数据不是字符，验证会返回成功。</p> <p>该关键字的值可以是字符串(<code>regexp.toString()</code>)或带有属性<code>pattern</code>和<code>flags</code>的对象(同样的字符串应传给 RegExp 构造器)。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span>
  type<span class="token punctuation">:</span> <span class="token string">'object'</span><span class="token punctuation">,</span>
  properties<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    foo<span class="token punctuation">:</span> <span class="token punctuation">{</span> regexp<span class="token punctuation">:</span> <span class="token string">'/foo/i'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    bar<span class="token punctuation">:</span> <span class="token punctuation">{</span> regexp<span class="token punctuation">:</span> <span class="token punctuation">{</span> pattern<span class="token punctuation">:</span> <span class="token string">'bar'</span><span class="token punctuation">,</span> flags<span class="token punctuation">:</span> <span class="token string">'i'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> validData <span class="token operator">=</span> <span class="token punctuation">{</span>
  foo<span class="token punctuation">:</span> <span class="token string">'Food'</span><span class="token punctuation">,</span>
  bar<span class="token punctuation">:</span> <span class="token string">'Barmen'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> invalidData <span class="token operator">=</span> <span class="token punctuation">{</span>
  foo<span class="token punctuation">:</span> <span class="token string">'fog'</span><span class="token punctuation">,</span>
  bar<span class="token punctuation">:</span> <span class="token string">'bad'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="formatmaximum-formatminimum和formatexclusivemaximum-formatexclusiveminimum"><code>formatMaximum</code> / <code>formatMinimum</code>和<code>formatExclusiveMaximum</code> / <code>formatExclusiveMinimum</code></h3> <p>当 format 关键字定义了顺序时，这些关键字的作用就是定义最小/最大数字的约束条件。</p> <p>这些关键字<strong>仅接受字符串</strong>。如果数据不是字符串，则验证会返回成功。</p> <p>关键字<code>formatMaximum (formatMinimum)</code>的值应该是一个字符串。这个值是数据有效的最大允许值(最小允许值)，由<code>format</code>关键字决定。如果没有设置<code>format</code>关键字，则 schema 编译将抛出异常。</p> <p>添加该关键字后，它将会定义<code>&quot;date&quot;</code>、<code>&quot;time&quot;</code>和<code>&quot;date-time&quot;</code>比较规则，自定义格式也可以有比较规则。参见<a href="https://github.com/epoberezkin/ajv#api-addformat" target="_blank" rel="noopener noreferrer">addFormat<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>方法</p> <p>关键字<code>formatExclusiveMaximum (formatExclusiveMinimum)</code>的值应该是<strong>布尔值</strong>。如果没有<code>formatMaximum (formatMinimum)</code>则无法使用这些关键字。如果该关键字的值<code>true</code>，则有效的数据不应该等于<code>formatMaximum (formatMinimum)</code>关键字中的值。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'ajv-keywords'</span><span class="token punctuation">)</span><span class="token punctuation">(</span>ajv<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'formatMinimum'</span><span class="token punctuation">,</span> <span class="token string">'formatMaximum'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span>
  format<span class="token punctuation">:</span> <span class="token string">'date'</span><span class="token punctuation">,</span>
  formatMinimum<span class="token punctuation">:</span> <span class="token string">'2016-02-06'</span><span class="token punctuation">,</span>
  formatMaximum<span class="token punctuation">:</span> <span class="token string">'2016-12-27'</span><span class="token punctuation">,</span>
  formatExclusiveMaximum<span class="token punctuation">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> validDataList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'2016-02-06'</span><span class="token punctuation">,</span> <span class="token string">'2016-12-26'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> invalidDataList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'2016-02-05'</span><span class="token punctuation">,</span> <span class="token string">'2016-12-27'</span><span class="token punctuation">,</span> <span class="token string">'abc'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="transform"><code>transform</code></h3> <p>该关键字允许在验证之前修改字符串。</p> <p>这些关键字<strong>仅接受字符串</strong>。如果数据不是字符串，则<code>transform</code>会被跳过。</p> <p>根据 ajv 的写法不同，有一些限制.</p> <ul><li>单独的字符串不能转换。举例来说：<code>data = 'a'; ajv.validate(schema, data);</code></li> <li>目前尚不能和<code>ajv-pack</code>搭配使用。</li></ul> <p><strong>支持的配置项：</strong></p> <ul><li><code>trim</code>：移除开头和结尾的空格</li> <li><code>trimLeft</code>：移除开头的空格</li> <li><code>trimRight</code>：移除结尾的空格</li> <li><code>toLowerCase</code>: 转为小写</li> <li><code>toUpperCase</code>: 转为大写</li> <li><code>toEnumCase</code>: 大小写字符串匹配 schema 中的大小写</li></ul> <p>配置项按照设置的顺序依次应用。</p> <p>注意：<code>toEnumCase</code>要求所有允许的值在不区分大小写的时候是唯一的。</p> <p><strong>示例：多配置项</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'ajv-keywords'</span><span class="token punctuation">)</span><span class="token punctuation">(</span>ajv<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'transform'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span>
  type<span class="token punctuation">:</span> <span class="token string">'array'</span><span class="token punctuation">,</span>
  items<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    type<span class="token punctuation">:</span><span class="token string">'string'</span><span class="token punctuation">,</span>
    transform<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'trim'</span><span class="token punctuation">,</span><span class="token string">'toLowerCase'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'  MixCase  '</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>schema<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['mixcase']</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>示例：<code>enumcase</code></strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'ajv-keywords'</span><span class="token punctuation">)</span><span class="token punctuation">(</span>ajv<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'transform'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span>
  type<span class="token punctuation">:</span> <span class="token string">'array'</span><span class="token punctuation">,</span>
  items<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    type<span class="token punctuation">:</span><span class="token string">'string'</span><span class="token punctuation">,</span>
    transform<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'trim'</span><span class="token punctuation">,</span><span class="token string">'toEnumCase'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token keyword">enum</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'pH'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'ph'</span><span class="token punctuation">,</span><span class="token string">' Ph'</span><span class="token punctuation">,</span><span class="token string">'PH'</span><span class="token punctuation">,</span><span class="token string">'pH '</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>schema<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['pH','pH','pH','pH']</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="数组关键字">数组关键字</h3> <h3 id="uniqueitemproperties"><code>uniqueItemProperties</code></h3> <p>该关键字允许检查数组中的某些属性是否唯一。</p> <p>该关键字<strong>仅接受数组</strong>。如果数据不是数组，则验证会返回成功。</p> <p>该关键字的值必须是字符串数组 —— 属性值在所有项中唯一。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span> uniqueItemProperties<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token string">&quot;id&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> validData <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token number">3</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> invalidData1 <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 重复 &quot;id&quot;</span>
  <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token number">3</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> invalidData2 <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">&quot;taco&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">&quot;taco&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 重复 &quot;name&quot;</span>
  <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">&quot;salsa&quot;</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="对象关键字">对象关键字</h3> <p><code>allRequired</code></p> <p>该关键字要求在同一个 schema 对象中的<code>properties</code>关键字中使用的所有属性必须出现。</p> <p>该关键字<strong>仅作用于对象</strong>。如果数据不是对象，验证会返回成功。</p> <p>该关键字的值必须是布尔值。</p> <p>如果该关键字的值为<code>false</code>，验证会返回成功。</p> <p>如果该关键字的值为<code>true</code>，则如果数据中包含了<code>properties</code>关键字中定义的所有属性(在同一个 schema 对象中)，则验证成功。</p> <p>如果<code>properties</code>关键字没有出现在相同的 schema 对象中，那么 schema 编译会抛出异常。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span>
  properties<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    foo<span class="token punctuation">:</span> <span class="token punctuation">{</span>type<span class="token punctuation">:</span> <span class="token string">'number'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    bar<span class="token punctuation">:</span> <span class="token punctuation">{</span>type<span class="token punctuation">:</span> <span class="token string">'number'</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  allRequired<span class="token punctuation">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> validData <span class="token operator">=</span> <span class="token punctuation">{</span> foo<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> bar<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> alsoValidData <span class="token operator">=</span> <span class="token punctuation">{</span> foo<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> bar<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> baz<span class="token punctuation">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> invalidDataList <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> foo<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> bar<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="anyrequired"><code>anyRequired</code></h3> <p>该关键字所列出的属性必须出现(至少一个)。</p> <p>该关键字<strong>仅作用于对象</strong>，如果数据不是对象，则验证会返回成功。</p> <p>该关键字的值必须是一个字符串数组，每个字符串都是一个属性名。若要使对象数据有效，那么对象中至少要有一个数组中列出的属性。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span>
  anyRequired<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> validData <span class="token operator">=</span> <span class="token punctuation">{</span> foo<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> alsoValidData <span class="token operator">=</span> <span class="token punctuation">{</span> foo<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> bar<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> invalidDataList <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> baz<span class="token punctuation">:</span> <span class="token number">3</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="onerequired"><code>oneRequired</code></h3> <p>该关键字所列出的属性只允许出现一个。</p> <p>该关键字<strong>仅作用于对象</strong>，如果数据不是对象，则验证会返回成功。</p> <p>该关键字的值必须是一个字符串数组，每个字符串都是一个属性名。若要使对象数据有效，那么对象中要有且只有一个数组中列出的属性。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span>
  oneRequired<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> validData <span class="token operator">=</span> <span class="token punctuation">{</span> foo<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> alsoValidData <span class="token operator">=</span> <span class="token punctuation">{</span> bar<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> baz<span class="token punctuation">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> invalidDataList <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> baz<span class="token punctuation">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> foo<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> bar<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="patternrequired"><code>patternRequired</code></h3> <p>该关键字要求与通配符相匹配的属性必须存在。</p> <p>该关键字<strong>仅作用于对象</strong>，如果数据不是对象，则验证会返回成功。</p> <p>该关键字的值必须是一个字符串数组，每个字符串都是一个正则表达式。若要使对象数据有效，那么数组中的正则表达式应至少匹配一个数据对象中的属性名。</p> <p>如果数组包含了多个正则表达式，一个以上的表达式可以匹配相同的属性名。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span> patternRequired<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token string">'f.*o'</span><span class="token punctuation">,</span> <span class="token string">'b.*r'</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> validData <span class="token operator">=</span> <span class="token punctuation">{</span> foo<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> bar<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> alsoValidData <span class="token operator">=</span> <span class="token punctuation">{</span> foobar<span class="token punctuation">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> invalidDataList <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> foo<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> bar<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="prohibited"><code>prohibited</code></h3> <p>该关键字中列出的任何属性都禁止在对象中的出现。</p> <p>该关键字<strong>仅作用于对象</strong>，如果数据不是对象，则验证会返回成功。</p> <p>该关键字的值必须是一个字符串数组，每个字符串都是一个属性名。若要使对象数据有效，那么对象中不允许出现数组中列出的属性。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span> prohibited<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> validData <span class="token operator">=</span> <span class="token punctuation">{</span> baz<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> alsoValidData <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> invalidDataList <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> foo<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> bar<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> foo<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> bar<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>请注意：</strong> <code>{prohibited: ['foo', 'bar']}</code>等同于<code>{not: {anyRequired: ['foo', 'bar']}}</code>(它们对任意数据的验证结果没有差别)</p> <h3 id="deepproperties"><code>deepProperties</code></h3> <p>该关键字允许验证深层的属性。</p> <p>该关键字<strong>仅作用于对象</strong>，如果数据不是对象，则验证会返回成功。</p> <p>该值应该是一个对象，其中对象的键是指向数据的 JSON 指针(属性查找路径)，从数据中的当前位置开始计算，而对象的值则是 JSON schema。若要使对象数据有效，那么每个 JSON 指针的值应匹配对应的 schema。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span>
  type<span class="token punctuation">:</span> <span class="token string">'object'</span><span class="token punctuation">,</span>
  deepProperties<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;/users/1/role&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token string">&quot;enum&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;admin&quot;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> validData <span class="token operator">=</span> <span class="token punctuation">{</span>
  users<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      id<span class="token punctuation">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
      role<span class="token punctuation">:</span> <span class="token string">'admin'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> alsoValidData <span class="token operator">=</span> <span class="token punctuation">{</span>
  users<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;1&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      id<span class="token punctuation">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
      role<span class="token punctuation">:</span> <span class="token string">'admin'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> invalidData <span class="token operator">=</span> <span class="token punctuation">{</span>
  users<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      id<span class="token punctuation">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
      role<span class="token punctuation">:</span> <span class="token string">'user'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> alsoInvalidData <span class="token operator">=</span> <span class="token punctuation">{</span>
  users<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;1&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      id<span class="token punctuation">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
      role<span class="token punctuation">:</span> <span class="token string">'user'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><h3 id="deeprequired"><code>deepRequired</code></h3> <p>该关键字让我们可以检查一些深层属性是否可用。</p> <p>该关键字<strong>仅作用于对象</strong>，如果数据不是对象，则验证会返回成功。</p> <p>该关键字应该是指向数据的 JSON 指针(属性查找路径)数组，从数据中的当前位置开始计算。若要使对象数据有效，那么每个 JSON 指针都应该是数据的一部分。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span>
  type<span class="token punctuation">:</span> <span class="token string">'object'</span><span class="token punctuation">,</span>
  deepRequired<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;/users/1/role&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> validData <span class="token operator">=</span> <span class="token punctuation">{</span>
  users<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      id<span class="token punctuation">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
      role<span class="token punctuation">:</span> <span class="token string">'admin'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> invalidData <span class="token operator">=</span> <span class="token punctuation">{</span>
  users<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      id<span class="token punctuation">:</span> <span class="token number">123</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="复合关键字">复合关键字</h3> <h3 id="switch-已废弃，不翻了-链接在这"><code>switch</code> (已废弃，不翻了, <a href="https://github.com/ajv-validator/ajv-keywords#switch-deprecated" target="_blank" rel="noopener noreferrer">链接在这<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>)</h3> <h3 id="select-selectcases-selectdefault"><code>select</code>/<code>selectCases</code>/<code>selectDefault</code></h3> <p>该关键字允许根据已验证数据中某些属性的值选择验证数据的 schema。</p> <p>这些关键字必须出现在同一个 schema 对象中(<code>selectDefault</code>则是可选)。</p> <p><code>select</code>关键字的值应该是一个<code>$data</code>引用，它指向被验证数据中的任何原始 JSON 类型(<code>string</code>、<code>number</code>、<code>boolean</code>或<code>null</code>)。您也可以使用一个基本类型的常量作为该关键字的值(比方说，以调试为目的)。</p> <p><code>selectCases</code>关键字的值必须是一个对象，其中每个属性名都是<code>select</code>关键字值的可能字符串表示，而且每个属性值都必须是用于验证数据的对应 schema (根据 draft-06 也可以是布尔值)。</p> <p><code>selectDefault</code>关键字的值是 schema (根据 draft-06 也可以是布尔值)，他必须用于验证数据从而避免<code>selectCase</code>中没有键等于<code>select</code>关键字字符串值的情况。</p> <p>若有下列情况之一则验证返回成功：</p> <ul><li>使用所选的 schema 验证数据成功</li> <li>没有选择任何 schema 进行验证</li> <li>select 的值未定义(数据引用所指向的数据中没有属性)</li></ul> <p>如果(数据中)<code>select</code>的值不是原始类型则验证失败。</p> <p><strong>请注意：</strong> 这些关键字要求 Ajv <code>$data</code>配置项可以支持 <code>$data</code> 引用。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'ajv-keywords'</span><span class="token punctuation">)</span><span class="token punctuation">(</span>ajv<span class="token punctuation">,</span> <span class="token string">'select'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span>
  type<span class="token punctuation">:</span> object<span class="token punctuation">,</span>
  required<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'kind'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  properties<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    kind<span class="token punctuation">:</span> <span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">'string'</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  select<span class="token punctuation">:</span> <span class="token punctuation">{</span> $data<span class="token punctuation">:</span> <span class="token string">'0/kind'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  selectCases<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    foo<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      required<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      properties<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        kind<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        foo<span class="token punctuation">:</span> <span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">'string'</span> <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      additionalProperties<span class="token punctuation">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    bar<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      required<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'bar'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      properties<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        kind<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        bar<span class="token punctuation">:</span> <span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">'number'</span> <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      additionalProperties<span class="token punctuation">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  selectDefault<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    propertyNames<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      not<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token keyword">enum</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">]</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> validDataList <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> kind<span class="token punctuation">:</span> <span class="token string">'foo'</span><span class="token punctuation">,</span> foo<span class="token punctuation">:</span> <span class="token string">'any'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> kind<span class="token punctuation">:</span> <span class="token string">'bar'</span><span class="token punctuation">,</span> bar<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> kind<span class="token punctuation">:</span> <span class="token string">'anything_else'</span><span class="token punctuation">,</span> not_bar_or_foo<span class="token punctuation">:</span> <span class="token string">'any value'</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> invalidDataList <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> kind<span class="token punctuation">:</span> <span class="token string">'foo'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// no propery foo</span>
  <span class="token punctuation">{</span> kind<span class="token punctuation">:</span> <span class="token string">'bar'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// no propery bar</span>
  <span class="token punctuation">{</span> kind<span class="token punctuation">:</span> <span class="token string">'foo'</span><span class="token punctuation">,</span> foo<span class="token punctuation">:</span> <span class="token string">'any'</span><span class="token punctuation">,</span> another<span class="token punctuation">:</span> <span class="token string">'any value'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// additional property</span>
  <span class="token punctuation">{</span> kind<span class="token punctuation">:</span> <span class="token string">'bar'</span><span class="token punctuation">,</span> bar<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> another<span class="token punctuation">:</span> <span class="token string">'any value'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// additional property</span>
  <span class="token punctuation">{</span> kind<span class="token punctuation">:</span> <span class="token string">'anything_else'</span><span class="token punctuation">,</span> foo<span class="token punctuation">:</span> <span class="token string">'any'</span> <span class="token punctuation">}</span> <span class="token comment">// property foo not allowed</span>
  <span class="token punctuation">{</span> kind<span class="token punctuation">:</span> <span class="token string">'anything_else'</span><span class="token punctuation">,</span> bar<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span> <span class="token comment">// property bar not allowed</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br></div></div><p><strong>请注意：</strong> 当前的实现是 BETA 版。它不允许在<code>selectCases</code>和<code>selectDefault</code>内的 schema 中的 $ref 关键字中使用指向这些 schema 之外的相对 URI。解决方法是使用绝对 URI (它可以指向添加到 Ajv 的任何(子) schema，包括当前根 schema 中使用<code>select</code>的那些 schema)。</p> <h3 id="所有类型的关键字">所有类型的关键字</h3> <h3 id="dynamicdefault"><code>dynamicDefault</code></h3> <p>该关键字允许为属性分配动态默认值，如时间戳、惟一id等。</p> <p>该关键字仅在配置了<code>useDefaults</code>时才会起效，而非在<code>anyOf</code>关键字中等等，和 Ajv 处理默认关键字一样。</p> <p>该关键字应该添加到对象级别。它的值应该是一个对象，每个属性对应一个属性名，与标准的<code>properties</code>关键字中的方法相同。每个属性中的值应该是：</p> <ul><li>默认函数的标识符(字符串)</li> <li>具有<code>func</code>(标识符)和<code>args</code>(带参数的对象，将在模式编译期间传递给此函数—参见示例)属性的对象。</li></ul> <p><code>dynamicDefaults</code>中使用的属性不应该添加到<code>required</code>关键字中(否则验证将失败)，因为与<code>default</code>不同，这个关键字是在验证之后处理的。</p> <p>这里有几个预定义的动态默认函数：</p> <ul><li><code>&quot;timestamp&quot;</code> - 以毫秒计的当前时间戳。</li> <li><code>&quot;datetime&quot;</code> - 当前日期和时间的字符串(ISO，符合<code>date-time</code>格式)。</li> <li><code>&quot;date&quot;</code> - 当前日期的字符串(ISO，符合<code>date</code>格式)。</li> <li><code>&quot;time&quot;</code> - 当前时间的字符串(ISO，符合<code>time</code>格式)。</li> <li><code>&quot;random&quot;</code> - 在 [0,1) 区间的伪随机数。</li> <li><code>&quot;randomint&quot;</code> - 伪随机整数。如果使用字符串作为属性值，那么函数将随机返回<code>0</code>或<code>1</code>。如果使用对象<code>{ func: 'randomint', args: { max: N } }</code>，那么默认值将是 [0,1) 区间内的整数。</li> <li><code>&quot;seq&quot;</code> - 从 0 开始的连续整数。如果使用字符串作为属性值，则使用默认顺序。如果使用对象<code>{func: 'seq'， args: {name: 'foo'}}</code>，那么将使用名称为<code>&quot;foo&quot;</code>的序列。序列是全局的，即使使用了不同的 ajv 实例。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span>
  type<span class="token punctuation">:</span> <span class="token string">'object'</span><span class="token punctuation">,</span>
  dynamicDefaults<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    ts<span class="token punctuation">:</span> <span class="token string">'datetime'</span><span class="token punctuation">,</span>
    r<span class="token punctuation">:</span> <span class="token punctuation">{</span> func<span class="token punctuation">:</span> <span class="token string">'randomint'</span><span class="token punctuation">,</span> args<span class="token punctuation">:</span> <span class="token punctuation">{</span> max<span class="token punctuation">:</span> <span class="token number">100</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    id<span class="token punctuation">:</span> <span class="token punctuation">{</span> func<span class="token punctuation">:</span> <span class="token string">'seq'</span><span class="token punctuation">,</span> args<span class="token punctuation">:</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'id'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  properties<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    ts<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> <span class="token string">'string'</span><span class="token punctuation">,</span>
      format<span class="token punctuation">:</span> <span class="token string">'date-time'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    r<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> <span class="token string">'integer'</span><span class="token punctuation">,</span>
      minimum<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      exclusiveMaximum<span class="token punctuation">:</span> <span class="token number">100</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    id<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> <span class="token string">'integer'</span><span class="token punctuation">,</span>
      minimum<span class="token punctuation">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
data<span class="token punctuation">;</span> <span class="token comment">// { ts: '2016-12-01T22:07:28.829Z', r: 25, id: 0 }</span>

<span class="token keyword">var</span> data1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>data1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
data1<span class="token punctuation">;</span> <span class="token comment">// { ts: '2016-12-01T22:07:29.832Z', r: 68, id: 1 }</span>

ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>data1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
data1<span class="token punctuation">;</span> <span class="token comment">// didn't change, as all properties were defined</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><p>当使用了<code>useDefaults</code>配置项的值<code>&quot;empty&quot;</code>时，属性和项等于<code>null</code>或<code>&quot;&quot;(空字符串)</code>将被赋值为默认值。在验证之前，使用<code>allOf</code>复合关键字来执行<code>dynamicDefaults</code>。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span>
  allOf<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      dynamicDefaults<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        ts<span class="token punctuation">:</span> <span class="token string">'datetime'</span><span class="token punctuation">,</span>
        r<span class="token punctuation">:</span> <span class="token punctuation">{</span> func<span class="token punctuation">:</span> <span class="token string">'randomint'</span><span class="token punctuation">,</span> args<span class="token punctuation">:</span> <span class="token punctuation">{</span> min<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> max<span class="token punctuation">:</span> <span class="token number">100</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        id<span class="token punctuation">:</span> <span class="token punctuation">{</span> func<span class="token punctuation">:</span> <span class="token string">'seq'</span><span class="token punctuation">,</span> args<span class="token punctuation">:</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'id'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> <span class="token string">'object'</span><span class="token punctuation">,</span>
      properties<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        ts<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          type<span class="token punctuation">:</span> <span class="token string">'string'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        r<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          type<span class="token punctuation">:</span> <span class="token string">'number'</span><span class="token punctuation">,</span>
          minimum<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
          exclusiveMaximum<span class="token punctuation">:</span> <span class="token number">100</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        id<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          type<span class="token punctuation">:</span> <span class="token string">'integer'</span><span class="token punctuation">,</span>
          minimum<span class="token punctuation">:</span> <span class="token number">0</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">{</span> ts<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> r<span class="token punctuation">:</span> <span class="token keyword">null</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
data<span class="token punctuation">;</span> <span class="token comment">// { ts: '2016-12-01T22:07:28.829Z', r: 25, id: 0 }</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p>您可以添加自己的动态默认函数，以识别该关键字：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> uuid <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'uuid'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">uuidV4</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> uuid<span class="token punctuation">.</span><span class="token function">v4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

<span class="token keyword">var</span> definition <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'ajv-keywords'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'dynamicDefaults'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>definition<span class="token punctuation">;</span>
<span class="token comment">// or require('ajv-keywords/keywords/dynamicDefaults').definition;</span>
definition<span class="token punctuation">.</span><span class="token constant">DEFAULTS</span><span class="token punctuation">.</span>uuid <span class="token operator">=</span> uuidV4<span class="token punctuation">;</span>

<span class="token keyword">var</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span>
  dynamicDefaults<span class="token punctuation">:</span> <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token string">'uuid'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  properties<span class="token punctuation">:</span> <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">'string'</span><span class="token punctuation">,</span> format<span class="token punctuation">:</span> <span class="token string">'uuid'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>schema<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
data<span class="token punctuation">;</span> <span class="token comment">// { id: 'a1183fbe-697b-4030-9bcc-cfeb282a9150' };</span>

<span class="token keyword">var</span> data1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
ajv<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>schema<span class="token punctuation">,</span> data1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
data1<span class="token punctuation">;</span> <span class="token comment">// { id: '5b008de7-1669-467a-a5c6-70fa244d7209' }</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>你也可以定义接受参数的动态默认值，例如 uuid 的版本:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> uuid <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'uuid'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">getUuid</span><span class="token punctuation">(</span><span class="token parameter">args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> version <span class="token operator">=</span> <span class="token string">'v'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>arvs <span class="token operator">&amp;&amp;</span> args<span class="token punctuation">.</span>v <span class="token operator">||</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> uuid<span class="token punctuation">[</span>version<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> definition <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'ajv-keywords'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'dynamicDefaults'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>definition<span class="token punctuation">;</span>
definition<span class="token punctuation">.</span><span class="token constant">DEFAULTS</span><span class="token punctuation">.</span>uuid <span class="token operator">=</span> getUuid<span class="token punctuation">;</span>

<span class="token keyword">var</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span>
  dynamicDefaults<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    id1<span class="token punctuation">:</span> <span class="token string">'uuid'</span><span class="token punctuation">,</span> <span class="token comment">// v4</span>
    id2<span class="token punctuation">:</span> <span class="token punctuation">{</span> func<span class="token punctuation">:</span> <span class="token string">'uuid'</span><span class="token punctuation">,</span> v<span class="token punctuation">:</span> <span class="token number">4</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// v4</span>
    id3<span class="token punctuation">:</span> <span class="token punctuation">{</span> func<span class="token punctuation">:</span> <span class="token string">'uuid'</span><span class="token punctuation">,</span> v<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span> <span class="token comment">// v1</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/ajv-docs-zh-cn/routes/packages/istanbul.html" class="prev">
        ajv-istanbul
      </a></span> <span class="next"><a href="/ajv-docs-zh-cn/routes/packages/merge_patch.html">
        ajv-merge-patch
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/ajv-docs-zh-cn/assets/js/app.4497bbb7.js" defer></script><script src="/ajv-docs-zh-cn/assets/js/2.c7b6054d.js" defer></script><script src="/ajv-docs-zh-cn/assets/js/23.5236c848.js" defer></script>
  </body>
</html>
