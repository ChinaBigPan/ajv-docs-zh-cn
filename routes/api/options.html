<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>配置项 | Ajv</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/ajv-docs-zh-cn/images/favicon.ico">
    <meta name="description" content="Ajv: Another JSON Schema Validator。Node.js和浏览器中最快速的JSON Schema验证器。">
    <link rel="preload" href="/ajv-docs-zh-cn/assets/css/0.styles.5a0f9214.css" as="style"><link rel="preload" href="/ajv-docs-zh-cn/assets/js/app.4497bbb7.js" as="script"><link rel="preload" href="/ajv-docs-zh-cn/assets/js/2.c7b6054d.js" as="script"><link rel="preload" href="/ajv-docs-zh-cn/assets/js/8.d355c7d2.js" as="script"><link rel="preload" href="/ajv-docs-zh-cn/assets/js/3.cf33746e.js" as="script"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/10.822ac3de.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/11.d15e32b7.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/12.48708fcb.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/13.032c4277.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/14.f0d24676.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/15.85afffdf.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/16.6a9932e7.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/17.26a096c7.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/18.e983eb27.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/19.a0f056a6.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/20.cccf14fa.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/21.48f7a45d.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/22.6db27886.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/23.5236c848.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/24.710052ba.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/25.28704c02.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/4.7351e2e0.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/5.9dba54a7.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/6.3569bd4e.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/7.8aa9081b.js"><link rel="prefetch" href="/ajv-docs-zh-cn/assets/js/9.1857401b.js">
    <link rel="stylesheet" href="/ajv-docs-zh-cn/assets/css/0.styles.5a0f9214.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/ajv-docs-zh-cn/" class="home-link router-link-active"><img src="/ajv-docs-zh-cn/images/logo.png" alt="Ajv" class="logo"> <span class="site-name can-hide">Ajv</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="http://www.febeacon.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  大笑文档
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/ajv-docs-zh-cn/" class="nav-link">
  文档首页
</a></div><div class="nav-item"><a href="/ajv-docs-zh-cn/routes/api/api.html" class="nav-link">
  API和配置项
</a></div><div class="nav-item"><a href="/ajv-docs-zh-cn/routes/packages/" class="nav-link">
  相关扩展包
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="http://www.febeacon.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  大笑文档
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/ajv-docs-zh-cn/" class="nav-link">
  文档首页
</a></div><div class="nav-item"><a href="/ajv-docs-zh-cn/routes/api/api.html" class="nav-link">
  API和配置项
</a></div><div class="nav-item"><a href="/ajv-docs-zh-cn/routes/packages/" class="nav-link">
  相关扩展包
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/ajv-docs-zh-cn/routes/api/api.html" class="sidebar-link">API</a></li><li><a href="/ajv-docs-zh-cn/routes/api/options.html" class="active sidebar-link">配置项</a></li><li><a href="/ajv-docs-zh-cn/routes/api/validation_errors.html" class="sidebar-link">验证错误</a></li><li><a href="/ajv-docs-zh-cn/routes/api/plugins.html" class="sidebar-link">插件</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="配置项">配置项</h1> <p><a href="https://github.com/ajv-validator/ajv#options" target="_blank" rel="noopener noreferrer">英文原地址<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>默认值：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token comment">// 验证 和 报告 配置项:</span>
  $data<span class="token punctuation">:</span>            <span class="token boolean">false</span><span class="token punctuation">,</span>
  allErrors<span class="token punctuation">:</span>        <span class="token boolean">false</span><span class="token punctuation">,</span>
  verbose<span class="token punctuation">:</span>          <span class="token boolean">false</span><span class="token punctuation">,</span>
  $comment<span class="token punctuation">:</span>         <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// Ajv 6.0 中新增的属性</span>
  jsonPointers<span class="token punctuation">:</span>     <span class="token boolean">false</span><span class="token punctuation">,</span>
  uniqueItems<span class="token punctuation">:</span>      <span class="token boolean">true</span><span class="token punctuation">,</span>
  unicode<span class="token punctuation">:</span>          <span class="token boolean">true</span><span class="token punctuation">,</span>
  nullable<span class="token punctuation">:</span>         <span class="token boolean">false</span><span class="token punctuation">,</span>
  format<span class="token punctuation">:</span>           <span class="token string">'fast'</span><span class="token punctuation">,</span>
  formats<span class="token punctuation">:</span>          <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  unknownFormats<span class="token punctuation">:</span>   <span class="token boolean">true</span><span class="token punctuation">,</span>
  schemas<span class="token punctuation">:</span>          <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  logger<span class="token punctuation">:</span>           <span class="token keyword">undefined</span><span class="token punctuation">,</span>
  <span class="token comment">// 引用 schema 的配置项</span>
  schemaId<span class="token punctuation">:</span>         <span class="token string">'$id'</span><span class="token punctuation">,</span>
  missingRefs<span class="token punctuation">:</span>      <span class="token boolean">true</span><span class="token punctuation">,</span>
  extendRefs<span class="token punctuation">:</span>       <span class="token string">'ignore'</span><span class="token punctuation">,</span> <span class="token comment">// 推荐 'fail'</span>
  loadSchema<span class="token punctuation">:</span>       <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token comment">// function(uri: string): Promise {}</span>
  <span class="token comment">// 修改验证数据的配置项:</span>
  removeAdditional<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  useDefaults<span class="token punctuation">:</span>      <span class="token boolean">false</span><span class="token punctuation">,</span>
  coerceTypes<span class="token punctuation">:</span>      <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token comment">// 严格模式配置项</span>
  strictDefaults<span class="token punctuation">:</span>   <span class="token boolean">false</span><span class="token punctuation">,</span>
  strictKeywords<span class="token punctuation">:</span>   <span class="token boolean">false</span><span class="token punctuation">,</span>
  strictNumbers<span class="token punctuation">:</span>    <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token comment">// 异步验证配置项：</span>
  transpile<span class="token punctuation">:</span>        <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token comment">// 需要 ajv-async 包</span>
  <span class="token comment">// 高级配置项</span>
  meta<span class="token punctuation">:</span>             <span class="token boolean">true</span><span class="token punctuation">,</span>
  validateSchema<span class="token punctuation">:</span>   <span class="token boolean">true</span><span class="token punctuation">,</span>
  addUsedSchema<span class="token punctuation">:</span>    <span class="token boolean">true</span><span class="token punctuation">,</span>
  inlineRefs<span class="token punctuation">:</span>       <span class="token boolean">true</span><span class="token punctuation">,</span>
  passContext<span class="token punctuation">:</span>      <span class="token boolean">false</span><span class="token punctuation">,</span>
  loopRequired<span class="token punctuation">:</span>     <span class="token number">Infinity</span><span class="token punctuation">,</span>
  ownProperties<span class="token punctuation">:</span>    <span class="token boolean">false</span><span class="token punctuation">,</span>
  multipleOfPrecision<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  errorDataPath<span class="token punctuation">:</span>    <span class="token string">'object'</span><span class="token punctuation">,</span> <span class="token comment">// 已废弃</span>
  messages<span class="token punctuation">:</span>         <span class="token boolean">true</span><span class="token punctuation">,</span>
  sourceCode<span class="token punctuation">:</span>       <span class="token boolean">false</span><span class="token punctuation">,</span>
  processCode<span class="token punctuation">:</span>      <span class="token keyword">undefined</span><span class="token punctuation">,</span> 
  <span class="token comment">// ↑ function (str: string, schema: object): string {}</span>
  cache<span class="token punctuation">:</span>            <span class="token keyword">new</span> <span class="token class-name">Cache</span><span class="token punctuation">,</span>
  serialize<span class="token punctuation">:</span>        <span class="token keyword">undefined</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><table><thead><tr><th style="text-align:center;">验证和报告配置项</th> <th>描述</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>$data</code></td> <td>支持<a href="https://github.com/ajv-validator/ajv#data-reference" target="_blank" rel="noopener noreferrer">$data 引用<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。默认添加了 Draft 6 的元 schema。如果您希望使用其他元 schema，则需要使用<code>$dataMetaSchema</code>方法来添加对<code>$data 引用</code>的支持。</td></tr> <tr><td style="text-align:center;"><code>allErrors</code></td> <td>检查所有收集了全部错误的规则。默认在第一个错误后返回。</td></tr> <tr><td style="text-align:center;"><code>verbose</code></td> <td>默认值为<code>false</code>。在报错中涵盖了对部分 schema (<code>schema</code>和<code>parentSchema</code>)和验证数据的引用。</td></tr> <tr><td style="text-align:center;"><code>$comment</code> <br> <span class="badge tip" style="vertical-align:top;" data-v-76a02c50>Ajv 6.0 中新增的属性</span></td> <td>将<code>$comment</code>关键字的值记录或传递给函数。<br><br><strong>可配置的值为：</strong><br>- <code>false(默认值)</code> 忽略<code>$comment</code>关键词。<br>- <code>true</code> 将关键字的值记录到控制台。<br>- 函数：传入关键字的值、其 schema 路径和根 schema 传入指定函数。</td></tr> <tr><td style="text-align:center;"><code>jsonPointers</code></td> <td>不使用常规 JavaScript 属性访问方式而是使用<a href="https://tools.ietf.org/html/rfc6901" target="_blank" rel="noopener noreferrer">JSON 指针<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>而来设置错误的<code>dataPath</code>属性。</td></tr> <tr><td style="text-align:center;"><code>uniqueItems</code></td> <td>默认为<code>true</code>。验证<code>uniqueItems</code>关键字。</td></tr> <tr><td style="text-align:center;"><code>unicode</code></td> <td>默认值为<code>true</code>。使用 unicode 对来计算字符串的正确长度。若设置为<code>false</code>，则使用<code>.length</code>来计算，速度更快但按照 unicode 对来计算的字符串长度就“不正确”了 —— 每个 unicode 对都被计算为两个字符。</td></tr> <tr><td style="text-align:center;"><code>nullable</code></td> <td>支持<a href="https://swagger.io/docs/specification/data-models/data-types/" target="_blank" rel="noopener noreferrer">第三版开放 API 规范<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>中的<code>nullable</code>关键字。</td></tr> <tr><td style="text-align:center;"><code>format</code></td> <td>格式验证模式。配置项的值：<br><br>- <code>&quot;fast&quot;(默认值)</code>：简单且快速地验证(请参阅<a href="https://github.com/ajv-validator/ajv#formats" target="_blank" rel="noopener noreferrer">Formats<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，了解可用的格式以及受此配置项影响的详细信息)。<br>- <code>&quot;full&quot;</code>：严格且缓慢的验证。例如：25:00:00和2015/14/33在<code>full</code>模式下是无效的时间和日期，但在<code>fast</code>模式下则有效。<br>- 忽略所有格式关键字。</td></tr> <tr><td style="text-align:center;"><code>formats</code></td> <td>具有自定义格式的对象。键和值将传给<code>addFormat</code>方法。</td></tr> <tr><td style="text-align:center;"><code>keywords</code></td> <td>具有自定义关键字的对象。键和值将传给<code>addKeyword</code>方法。</td></tr> <tr><td style="text-align:center;"><code>unknownFormats</code></td> <td>对未知格式的处理方法。可配置的值如下：<br><br>- <code>true(默认值)</code>：如果遇到未知的格式，则在 schema 编译期间抛出异常。如果格式关键字值是<a href="https://github.com/ajv-validator/ajv#data-reference" target="_blank" rel="noopener noreferrer">$data 引用<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，并且未知，验证将失败。<br>- <code>[String]</code>：一个将要忽略掉的未知格式名称的数组。该配置项可用来允许使用并未定义格式的第三方 schema，但如果使用了其他未知格式，则仍然失败。如果<code>format</code>关键字的值是<a href="https://github.com/ajv-validator/ajv#data-reference" target="_blank" rel="noopener noreferrer">$data 引用<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，并且它不在这个数组中，验证将失败。<br>- <code>&quot;ignore&quot;</code>：在 schema 编译期间记录警告并始终通过验证(5.0.0之前版本中的默认行为)。不建议使用此选项，因为它允许输入错误的格式名称，并且在没有任何错误消息的情况下不会对其进行验证。这个行为是 JSON schema 规范所要求的。</td></tr> <tr><td style="text-align:center;"><code>schemas</code></td> <td>将添加到实例中的 schema 数组或对象。为了传递数组，schema 中必须包含id。当传递对象时，将为该对象中的每个 schema 调用方法<code>addSchema(value, key)</code>。</td></tr> <tr><td style="text-align:center;"><code>logger</code></td> <td>设置日志方法。默认是在控制台输出，有<code>log</code>、<code>warning</code>和<code>error</code>三种。参见<a href="https://github.com/ajv-validator/ajv#error-logging" target="_blank" rel="noopener noreferrer">错误日志<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。配置项的值：<br><br>- 自定义日志：应该有<code>log</code>、<code>warning</code>和<code>error</code>三种方法，如果缺少任意一个则会抛出异常。<br>- <code>false</code>：禁用日志。</td></tr></tbody></table> <table><thead><tr><th style="text-align:center;">引用 schema 的配置项</th> <th>描述</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>schemaId</code></td> <td>该配置项定义将哪些关键字用作 schema URI。它的值如下： <br><br>- <code>&quot;$id&quot;(默认值)</code>：只使用(在JSON schema draft-06/07 中指定的)<code>$id</code>关键字作为 schema URI，忽略<code>id</code>关键字(如果出现警告将记录到日志中)。<br>-<code>&quot;id&quot;</code>：只使用(在 JSON schema draft-04 中指定的)<code>id</code>关键字作为 schema URI，忽略<code>$id</code>关键字(如果出现警告将记录到日志中)。<br>- <code>&quot;auto&quot;</code>： 使用<code>$id</code>和<code>id</code>关键字作为 schema URI。如果(在同一个 schema 对象中)两者都存在且不同，则在 schema 编译期间将抛出异常。</td></tr> <tr><td style="text-align:center;"><code>missingRefs</code></td> <td>处理丢失的引用 schema 的方法。它的值如下：<br><br>- <code>true(default)</code>： 如果在编译期间无法解析引用，则抛出异常。抛出的错误拥有<code>missingRef</code>(带有散列片段)和<code>missingSchema</code>(没有散列片段)属性。这两个属性都是相对于当前基本id(通常是 schema id，除非被替换)进行解析的。<br>- <code>&quot;ignore&quot;</code>：在编译期间打印错误并始终通过验证。<br>- <code>&quot;fail&quot;</code>：以打印错误并成功编译 schema，但如果规则已检查，则验证失败。</td></tr> <tr><td style="text-align:center;"><code>extendRefs</code></td> <td>当 schema 中存在<code>$ref</code>时，验证其他关键字。它的值如下：<br><br>- <code>&quot;ignore&quot;(默认)</code>：当使用<code>$ref</code>时，将会(按照<a href="https://tools.ietf.org/html/draft-pbryan-zyp-json-ref-03#section-3" target="_blank" rel="noopener noreferrer">JSON 引用<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>标准)忽略其他关键字。在 schema 编译期间将记录一个警告。<br>- <code>&quot;fail&quot;(推荐)</code>：如果其他验证关键字与<code>$ref</code>一起使用，则在编译 schema 时将抛出异常。建议使用此配置项以确保 schema 中没有忽略的关键字，否则可能会造成混淆。<br>- <code>true</code>：使用<code>$ref</code>(5.0.0 之前版本中的默认行为)验证 schema 中的所有关键字。</td></tr> <tr><td style="text-align:center;"><code>loadSchema</code></td> <td>当使用<code>compileAsync</code>方法并且缺少一些引用(配置项项<code>missingRefs</code>不是<code>‘fail’</code>或<code>‘ignore’</code>)时，用来加载远程 schema 的异步函数。此函数应接受远程 schema uri 作为参数，并返回结果为 schema 的 Promise。参见<a href="https://github.com/ajv-validator/ajv#asynchronous-schema-compilation" target="_blank" rel="noopener noreferrer">异步编译<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>中的示例。</td></tr></tbody></table> <table><thead><tr><th style="text-align:center;">修改验证数据的配置项</th> <th>描述</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>removeAdditional</code></td> <td>删除额外属性 —— 参见<a href="https://github.com/ajv-validator/ajv#filtering-data" target="_blank" rel="noopener noreferrer">筛选数据<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>中的示例。如果使用<code>addMetaSchema</code>方法添加 schema，则不使用此选项。它的值如下：<br><br>- <code>false</code>：并不移除额外属性。<br>- <code>&quot;all&quot;</code>：删除所有额外属性，无论 schema 中的<code>additionalProperties</code>关键字如何(并且没有对它们进行验证)。<br>- <code>true</code>：只有添加了<code>additionalProperties</code>关键字等于<code>false</code>的额外属性才会被删除。<br>- <code>&quot;failing&quot;</code>：schema 验证失败的额外属性将被删除(其中<code>additionalProperties</code>关键字为<code>false</code>或 schema)。</td></tr> <tr><td style="text-align:center;"><code>useDefaults</code></td> <td>使用相应的<code>default</code>关键字的值替换丢失的或未定义的属性和项。默认行为是忽略<code>default</code>关键字。如果使用<code>addMetaSchema</code>方法添加 schema，则不使用此选项。参见<a href="https://github.com/ajv-validator/ajv#assigning-defaults" target="_blank" rel="noopener noreferrer">配置默认值<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>中的示例。它的值如下：<br><br>- <code>false(默认值)</code>：不使用默认值。<br>- <code>true</code>：按值插入默认值(使用对象文字)。<br>- <code>&quot;empty&quot;</code>：除了缺失或未定义，属性和项的默认值为<code>null</code>或<code>&quot;&quot;</code>(一个空字符串)。<br>- <code>&quot;shared&quot;</code>：已废弃，不翻了。</td></tr> <tr><td style="text-align:center;"><code>coerceTypes</code></td> <td>更改数据的数据类型以匹配类型关键字。请参见强制<a href="https://github.com/ajv-validator/ajv#coercing-data-types" target="_blank" rel="noopener noreferrer">数据类型<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>和<a href="https://github.com/ajv-validator/ajv/blob/master/COERCION.md" target="_blank" rel="noopener noreferrer">强制转换规则<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>的示例。它的值如下：<br><br>- <code>false(默认值)</code>：无强制类型。<br>- <code>true</code>：强制值数据类型。<br>- <code>&quot;array&quot;</code>：除了在值类型之间强制使用外，还可将值数据强制转换为只有一个元素的数组，反之亦然(根据 schema 的要求)。</td></tr></tbody></table> <table><thead><tr><th style="text-align:center;">严格模式配置项</th> <th>描述</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>strictDefaults</code></td> <td>报告会忽略 schema 中的<code>default</code>关键字。它的值如下：<br><br>- <code>false(默认值)</code>：忽略的默认值不会报告。<br>- <code>true</code>：如果存在忽略的默认值，则抛出错误。<br>- <code>&quot;log&quot;</code>：如果出现忽略的默认值，则记录并警告。</td></tr> <tr><td style="text-align:center;"><code>strictKeywords</code></td> <td>报告会忽略 schema 中的未知关键字。它的值如下：<br><br>- <code>false(默认值)</code>：未知的关键字不会报告。<br>- <code>true</code>：如果存在未知的关键字，则抛出错误。<br>- <code>&quot;log&quot;</code>：如果出现未知的关键字，则记录并警告。</td></tr> <tr><td style="text-align:center;"><code>strictNumbers</code></td> <td>严格验证数字，<code>NaN</code>和<code>Infinity</code>会验证失败。它的值如下：<br><br>- <code>false(默认值)</code>：<code>NaN</code>和<code>Infinity</code>将通过数字类型验证。<br>- <code>true</code>：<code>NaN</code>和<code>Infinity</code>不会数字类型验证。</td></tr></tbody></table> <table><thead><tr><th style="text-align:center;">异步验证配置项</th> <th>描述</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>transpile</code></td> <td>需要<a href="https://github.com/ajv-validator/ajv-async" target="_blank" rel="noopener noreferrer">ajv-async<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>包。它将决定 Ajv 是否转换编译的异步验证函数。它的值如下: <br><br>- <code>undefined</code>：如果不支持异步函数，则使用<a href="https://github.com/MatAtBread/nodent" target="_blank" rel="noopener noreferrer">nodent<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>进行转换。<br>- <code>true</code>：总是使用<a href="https://github.com/MatAtBread/nodent" target="_blank" rel="noopener noreferrer">nodent<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>进行转换。<br>- <code>false</code>：不转换。如果不支持异步函数则抛出错误。</td></tr></tbody></table> <table><thead><tr><th style="text-align:center;">高级配置项</th> <th>描述</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>meta</code></td> <td>(默认值：<code>true</code>) 添加<a href="http://json-schema.org/documentation.html" target="_blank" rel="noopener noreferrer">元 schema<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，以便它可以被其他 schema 使用。如果传入了一个对象，它将作为没有<code>$schema</code>关键字的 schema 的默认元 schema。这个默认的元 schema <strong>必须</strong>具有<code>$schema</code>关键字。</td></tr> <tr><td style="text-align:center;"><code>validateSchema</code></td> <td>(默认值：<code>true</code>) 根据元 schema 验证添加/编译的 schema。schema 中的<code>$schema</code>属性可以是<a href="http://json-schema.org/draft-07/schema" target="_blank" rel="noopener noreferrer">draft07<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>或为空(将使用 draft07 元 schema)，也可以是对之前通过<code>addMetaSchema</code>方法添加的 schema 的引用。它的值如下：<br><br>- <code>true(默认值)</code>：如果验证失败则抛出错误。<br>- <code>&quot;log&quot;</code>：如果验证失败，抛出错误。<br>- <code>false</code>：跳过 schema 验证。</td></tr> <tr><td style="text-align:center;"><code>addUsedSchema</code></td> <td>如果有不以&quot;#&quot;开头的<code>$id</code>(或<code>id</code>)属性，则使用默认方法<code>compile</code>和<code>validate</code>向实例中添加 schema。如果存在<code>$id</code>且不是唯一的，则会抛出异常。将该配置项设置为<code>false</code>可以跳过向实例添加 schema 和使用这些方法时的<code>$id</code>惟一性检查。此配置项不影响<code>addSchema</code>方法。</td></tr> <tr><td style="text-align:center;"><code>inlineRefs</code></td> <td>影响引用 schema 的编译。它的值如下: <br><br>- <code>true(默认值)</code>：引用的 schema 若不存在 refs 则是内联引用，不管它们的尺寸如何 —— 这在很大程度上提高了性能，但代价是编译的 schema 函数更大。<br>- <code>false</code>：以非内联引用的 schema (它们将被编译为单独的函数)。<br> 整数：限制将要内联 schema 的关键字的最大数量。</td></tr> <tr><td style="text-align:center;"><code>passContext</code></td> <td>向自定义关键词函数传入验证上下文。如果设置为<code>true</code>并且您通过<code>validate.call(context, data)</code>将某个上下文传入编译验证函数，那么就可以在您的自定义关键词中的<code>this</code>使用<code>context</code>。默认的<code>this</code>是 Ajv 实例。</td></tr> <tr><td style="text-align:center;"><code>loopRequired</code></td> <td>默认情况下<code>required</code>关键字会被编译为单个表达式(或是<code>allErrors</code>的语句序列)。如果在这个关键字中有大量的属性，这可能会导致一个非常大的验证函数。通过传入一个整数来设置在循环中验证<code>required</code>关键字的属性数 ———— 更小的验证函数但性能更差。</td></tr> <tr><td style="text-align:center;"><code>ownProperties</code></td> <td>默认情况下，Ajv 遍历所有可枚举的对象属性；该值为<code>true</code>时，只迭代自己的可枚举对象属性(即直接在对象上找而不是在其原型上找)。</td></tr> <tr><td style="text-align:center;"><code>multipleOfPrecision</code></td> <td>默认情况下，<code>multipleOf</code>关键字通过将除法结果与该结果<code>parseInt()</code>后的值进行比较来验证。它适用于大于 1 的除数。对于像 0.01 这样除数，除法的结果通常不是整数(即使它应该是个整数)。如果您需要使用分数，请将该项设置为正整数 N，以便验证<code>multipleOf</code>时可以使用这个公式：<code>Math.abs(Math.round(division) - division) &lt; 1e-N</code>(它的速度虽然慢一点，但允许浮点数计算偏差)。</td></tr> <tr><td style="text-align:center;"><code>errorDataPath</code></td> <td>已废弃，不翻了。</td></tr> <tr><td style="text-align:center;"><code>messages</code></td> <td>默认值<code>true</code>。在错误中包含易于识别的信息，若要自定义信息可以设置为<code>false</code>。(比方说搭配<a href="https://github.com/ajv-validator/ajv-i18n" target="_blank" rel="noopener noreferrer">ajv-i18n<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>)</td></tr> <tr><td style="text-align:center;"><code>sourceCode</code></td> <td>为验证函数添加<code>sourceCode</code>属性(用于调试；这段代码可能与<code>toString</code>调用的结果不同)。</td></tr> <tr><td style="text-align:center;"><code>processCode</code></td> <td>函数，用于在将生成的代码传递给函数构造函数之前对其进行处理。它既可以用来美化函数(生成的验证函数没有换行)，也可以用来置换代码。从 5.0.0 版本开始，使用下面的值: <br><br>- <code>beautify</code>：使用<a href="https://github.com/beautify-web/js-beautify" target="_blank" rel="noopener noreferrer">js-beautify<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>格式化生成的函数。如果您想要美化生成的代码，可以传入调用<code>require('js-beautify').js_beautify</code>的函数，如<code>processCode: code =&gt; js_beautify(code)</code>。 <br>- <code>transpile</code> 转换异步验证功能。您仍然可以在<a href="https://github.com/ajv-validator/ajv-async" target="_blank" rel="noopener noreferrer">ajv-async<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>包中使用<code>transpile</code>选项。有关更多信息，请参阅<a href="https://github.com/ajv-validator/ajv#asynchronous-validation" target="_blank" rel="noopener noreferrer">异步验证<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</td></tr> <tr><td style="text-align:center;"><code>cache</code></td> <td>缓存实例，用于存储使用稳定字符串化 schema 作为键的已编译模式。例如，可以使用集合关联缓存<a href="https://github.com/epoberezkin/sacjs" target="_blank" rel="noopener noreferrer">sacjs<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。如果没有传入任何值将使用一个简单的 hash 表，这对于常见用例(静态定义且数量有限的 schema)来说已经足够了。缓存应该有<code>put(key, value)</code>、<code>get(key)</code>、<code>del(key)</code>和<code>clear()</code>方法。</td></tr> <tr><td style="text-align:center;"><code>serialize</code></td> <td>函数序列化模式以缓存键。传递<code>false</code>以使用 schema 本身作为键(比方说用<code>WeakMap</code>作缓存的话)。默认使用了<a href="https://github.com/epoberezkin/fast-json-stable-stringify" target="_blank" rel="noopener noreferrer">fast-json-stable-stringify<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr></tbody></table></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/ajv-docs-zh-cn/routes/api/api.html" class="prev">
        API
      </a></span> <span class="next"><a href="/ajv-docs-zh-cn/routes/api/validation_errors.html">
        验证错误
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/ajv-docs-zh-cn/assets/js/app.4497bbb7.js" defer></script><script src="/ajv-docs-zh-cn/assets/js/2.c7b6054d.js" defer></script><script src="/ajv-docs-zh-cn/assets/js/8.d355c7d2.js" defer></script><script src="/ajv-docs-zh-cn/assets/js/3.cf33746e.js" defer></script>
  </body>
</html>
